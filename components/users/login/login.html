{% set login_with = getOption('users.login.with',1) %}
{% set captcha_protect = getOption('users.login.captcha.protect',true) %}

<div class="{{ styles.border }} {{ styles.space }} {{ styles.color }}"> 
    <h4 class="flex items-center {{ styles.title.class }}">
        {{ component(styles.title.icon.name,styles.title.icon,'svg') }}  
        <div class="pl-2 font-bold {{ styles.title.color }}">
            {{ title }}
        </div>
    </h4>
    <form class="form" id="login_form">
        {% if login_with == 1 or login_with == 3 %}
            <div class="{{ theme.form.field }}">        
                <label class="{{ theme.form.label }}">
                    {{ fields.user_name.label }}
                </label>                          
                <input 
                    class="form-input {{ theme.form.input }}"
                    type="text" 
                    rule="minLength[2]"
                    name="user_name" 
                    id="user_name" 
                    {{ fields.user_name.placeholder|attr("placeholder") }}>                                                
            </div>
        {% else %}
        <div class="{{ theme.form.field }}">   
            <label class="{{ theme.form.label }}">
                {{ fields.email.label }}
            </label>                         
            <input 
                class="form-input {{ theme.form.input }}"
                type="email" 
                rule="minLength[2]"
                name="email" 
                id="email" 
                {{ fields.email.placeholder|attr("placeholder") }}>                                 
        </div>        
        {% endif %}
        <div class="{{ theme.form.field }}">     
            <label class="{{ theme.form.label }}">
                {{ fields.password.label }}
            </label>            
            <div class="{{ theme.form.input }}">                    
                <input 
                    class="form-input "
                    type="password" 
                    rule="minLength[4]"
                    name="password" 
                    id="password" 
                    {{ fields.password.placeholder|attr("placeholder") }}>  
                <span class="view-password cursor-pointer my-auto">
                    {{ component('icons~eye',theme.form.right_icon,'svg') }}
                </span>                        
            </div>
        </div>   
        <div class="my-2 field flex flex-row items-center">              
            <input class="form-input checkbox checkbox-xs" 
                type="checkbox" 
                name="remember" 
                id="remember" 
                value="1">    
            <label class="px-2 text-sm dark:text-gray-200">
                {{ fields.remember.label }}
            </label>
        </div>             
        <div class="mt-8" id="captcha_panel">            
            {% if captcha_protect == true %}           
                {{ component('captcha::code') }}                
            {% endif %}   
        </div>    
        <div class="mt-8">
            {{  component('system:form.footer',{ 
                    button_title: buttons.login     
                }) 
            }}  
        </div>   
    </form>               
</div>
