{% set installed_version = installed_version|default('0.0.0') %}
{% set confirm_overwrite = confirm_overwrite|default(false) %}
{% set repository_type = repository_type|default('github') %}
{% set manager = package(type) %}
{% if package_name is not empty %}
    {% set repository = manager.getRepository(package_name) %}  
{% endif %}
{% if repository is empty %}
    {% set repo_key = arikaimStore().getPackageKey(repository_name) %}
    {% set repository = manager.createRepository(repository_name,repo_key,repository_type) %}
{% endif %}
{% set repo_version = repository.getLastVersion() %}
<div class="ui header mini">
    <i class="icon box open blue"></i>
    <div class="content w-full">
        {{ labels.repository }}
        <div class="ui basic label">
            <span>{{ labels.version }}</span>
            {{ repo_version }}
        </div>
    </div>
    <div class="mt-4 text-center">              
        <div class="ui basic horizontal label">
            {{ repository.getPackageName() }}
        </div>    
        <div class="ui divider"></div>
        <div class="mt-4" id="download_package_content">           
            {% if installed_version is versionCompare(repo_version)  %}
            <button class="ui labeled icon blue mini button download-package"
                package-type="{{ type }}"
                package-name="{{ package_name }}"
                repository="{{ repository.getRepositoryUrl() }}"
                repository-type="{{ repository_type }}">
                <i class="icon download"></i>
                {{ labels.download }}
            </button>
            {% endif %}
        </div>       
    </div>
</div>