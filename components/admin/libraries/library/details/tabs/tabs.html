{% set library = package('library').getPackageProperties(library_name,true) %}
{% set package = package('library').createPackage(library_name) %}
{% set params = package.getLibraryParams() %}
{% set disabled = (params.disabled is empty) ? false : params.disabled %}
<div class="flex flex-row items-start items-stretch">
    <div class="flex-1 w-1/3 {{ theme.panel }}"> 
        <div class="flex flex-row items-center">
            {{ component('icons~cube',{ size: 'h-12 w-12', color: 'text-blue-500' },'svg') }}                
            <div class="ml-2 flex flex-col items-start">            
                <div>
                    {{ library.title|default(library.name) }} 
                </div>            
                <div class="badge badge-xs badge-outline">
                    {{ labels.version }}
                    <div class="font-bold">
                        {{ library.version }}
                    </div>
                </div>
            </div>    
        </div>          
        
        <div class="mt-2">
            {{ library.description }}
        </div>                          
        {% if library.async == true %}
        <div class="bdge badge-xs badge-info">Async</div>
        {% endif %}
        {% if library.crossorigin is not empty %}
        <div class="badge badge-xs badge-outline">
            <span class="text-gray-900">
                {{ labels.crossorigin }}
            </span>    
            {{ library.crossorigin }}
        </div>
        {% endif %}
        {% if disabled == true %} 
        <div class="badge badge-xs badge-outline">
            {{ labels.disabled }}
        </div>
        {% endif %}      
    </div>
    <div class="flex-1 ml-4 w-2/3 {{ theme.panel }}">        
        {{  component('system:admin.packages.repository',{ 
                type: 'library', 
                package_name: library.name, 
                repository_name: library.get('repository'),
                repository_type: library.get('repository-type',null),
                installed_version: library.version   
            }) 
        }}                                     
    </div>
</div>



<div class="ui stackable top attached tabular menu" id="library_details_tab">
    <a class="item active" data-tab="params_tab">
        <i class="icon blue cogs"></i>
        {{ labels.params }}
    </a> 
    <a class="item" data-tab="files_tab">
        <i class="icon blue outline file"></i>
        {{ labels.files }}
    </a>  
    <a class="item" data-tab="versions_tab">
        <i class="icon blue code branch"></i>
        {{ labels.verisons }}
    </a>     
</div>
<div class="ui bottom attached tab segment active" data-tab="params_tab">
    <div class="ui grid">
        <div class="four wide column">
            {% if library.get('params-readonly',false) != true %}        
                {{  component('system:admin.libraries.library.params.form',{ 
                        library: library_name, 
                        params_config: params.params,
                        params: library.params,
                        show_label: true, 
                        show_value: true 
                    }) 
                }}
            {% else %}
                {{ component('system:admin.libraries.library.params',{ library: library_name, params: params.params }) }}
            {% endif %}
        </div>
    </div>    
</div>
<div class="ui bottom attached tab segment" data-tab="files_tab">
    {{ component('system:admin.libraries.library.files',{ files: library.files }) }}
</div>
<div class="ui bottom attached tab segment" data-tab="versions_tab">
    {{ component('system:admin.libraries.library.versions',{ items: library.versions }) }}
</div>