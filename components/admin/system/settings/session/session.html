{% set interval = getConfigOption('settings/sessionInterval',0) %}
{% set handler = getConfigOption('settings/sessionHandler','files') %}

<div class="grid grid-cols-3">
    {% component 'system:admin.panel' %}
    <h4>
        {{ labels.details }}
    </h4>
    <div class="{{ theme.list.default }} mt-4">           
        <div class="flex flex-row items-center">
            <div class="font-bold">
                {{ labels.storage }}
            </div>
            <div class="px-2">
                {{ handler }}
            </div>
        </div>
        <div class="mt-1">
            {% set session_info = sessionInfo() %}
            {% set use_cookies = session.isUseCookies() %}
            {% set label = (session_info.use_cookies == true) ? 'yes' : 'no' %}        
            <table class="{{ theme.table.class }}">
                <tbody>
                    <tr>
                        <td class="collapsing">{{ labels.cookies }} </td>
                        <td class="left aligned font-bold">{{ label }}</td>
                    </tr>
                    <tr>
                        <td class="collapsing">{{ labels.start }} </td>
                        <td class="left aligned font-bold">{{ session_info.time_start|dateTimeFormat }}</td>
                    </tr>
                    <tr>
                        <td class="collapsing">{{ labels.end }} </td>
                        <td class="left aligned font-bold">{{ session_info.time_end|dateTimeFormat }}</td>
                    </tr>  
                    <tr>
                        <td class="collapsing">{{ labels.lifetime }} </td>
                        <td class="left aligned font-bold">{{ session_info.lifetime|timeFormat }}</td>
                    </tr>            
                </tbody>               
            </table>                                  
        </div>       
    </div>

    <div class="{{ theme.panel }} mt-4">
        <form class="form" id="session_settings_form">         
            <div class="field">
                <label class="{{ theme.form.label }}">
                    {{ fields.interval.label }}
                </label>
                <div class="{{ theme.form.input }}">
                    <input 
                        value="{{ interval }}" 
                        name="recreation" 
                        id="interval" 
                        type="text" 
                        {{ fields.interval.placeholder|attr('placeholder') }}> 
                    <div class="label-text my-auto">
                        {{ labels.min }}
                    </div>
                </div>              
            </div> 
            {{ component('system:form.footer') }}             
        </form>
    </div>
    {% endcomponent %}
</div>